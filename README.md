# DesignPatterns
## 一、设计模式介绍

## 二、设计模式七大原则

### 2.1 [单一职责原则]()

### 2.2 接口隔离原则

### 2.3 依赖倒转原则

### 2.4 里氏替换原则

### 2.5 开闭原则

### 2.6 迪米特法则

### 2.7 合成复用原则

## 三、UML 类图

## 四、设计模式三大分类

### 4.1 创建者模式

##### 4.1.1 单例模式

* 定义

    > 采取一定的方法保证在整个的软件系统中，对某个类**只能存在一个对象实例**， 并且该类**只提供一个取得其对象实例的方法(静态方法)**。

* 实现方式

    * 饿汉式
    * 懒汉式
        * **特别注意枚举和双重检验实现**

* 源码: **`java.lang.runtime`**



##### 4.1.2 <font color="red">工厂方法模式</font>

* 扩展：简单工厂模式

    * java.lang.calendar 类源码

    * 定义

        > 定义一个工厂类，专门负责对象的创建。

* 定义

    > **将工厂类的创建对象的方法定义为抽象方法**，具体的实现交给子类工厂类。
    >
    > 举的案例不太好的，参考其他。

    

##### 4.1.3 抽象工厂模式

* 定义

    > 提供**一个创建一系列相关或相互依赖的对象的接口**或者抽象类，而无需指定它们具体的类。
    >
    > 工厂方法模式和抽象工厂方法模式的区别是生产产品规模的不同。如果只存在一种类型的产品，选择工厂方法模式，存在多种类型的产品，选用抽象工厂模式。

    

##### 4.1.4 建造者模式

* 定义

    > **将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。**

* 难点: **注意与抽象工厂模式的区别**

* 源码运用: **java.lang.StringBuilder**



##### 4.1.5 原型模式

* 定义

    > 用原型实例指定创建对象的种类，并且通过拷贝这些原型，创建新的对象。

* 针对**原型实例的引用类型**存在两种拷贝实现方式

    * 浅拷贝（默认实现）

    * 深拷贝

        * 实现方式

            1)   重写 **clone** 方法来实现深拷贝

            2)   **通过对象序列化实现深拷贝(推荐)**

* 源码运用: Spring bean 的作用域 Scope 值为 `prototype` 的时候，通过 Debug 追踪源码。 






### 4.2 结构型模式

##### 4.2.1 适配器模式

* 定义

    > 把**一个类(Source)**的接口变换成客户端所期待的**另一种接口(target)**，从而使原本接口不匹配而无法一起工作的两个类能够在一起工作。

* 实现方式

    * 类适配器模式

        > 适配器 Adapter 类，**通过继承 source 类**，实现 target 类接口，完成 src->dst 的适配。

    * **对象适配器模式**

        > 适配器 Adapter 类，**通过持有 source 类的实例**，实现 target 类接口，完成 src->dst 的适配。

    * 接口适配器模式

        > 先设计**一个抽象类实现接口**，并为该接口中每个方法提供一个默认实现（空方法），那么该抽象类的子类可有选择地覆盖父类的某些方法来实现需求。

* 源码：**Spring MVC 的 HandlerAdapter**。

##### 4.2.2 桥接模式

##### 4.2.3 装饰模式

##### 4.2.4 组合模式

##### 4.2.5 外观模式

##### 4.2.6 享元模式

##### 4.2.7 代理模式



### 4.3 行为型模式

##### 4.3.1 模板方法模式

##### 4.3.2 命令模式

##### 4.3.3 迭代器模式

##### 4.3.4 观察者模式

##### 4.3.5 中介者模式

##### 4.3.6 备忘录模式

##### 4.3.7 解释器模式

##### 4.3.8 状态模式

##### 4.3.7 策略模式

##### 4.3.7 职责链模式

##### 4.3.7 访问者模式



## 五、参考

* 尚硅谷韩老师的设计模式
* Head first 设计模式
* [国外的设计模式在线教学](https://refactoringguru.cn/design-patterns)

